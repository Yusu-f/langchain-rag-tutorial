# Retrieving Contract Addresses

!!! warning

    Developers should never rely on contract addresses gathered from off-chain sources like direct messages, social media, or even websites, as these addresses could easily lead to malicious contracts.

For this reason, this documentation does not provide any contract address except for the single entry point described below.
The only secure way to retrieve contract addresses is [from the blockchain itself](#retrieval-from-blockchain).

As a convenience, though, Flare's smart contract repository contains the latest [deployment address](#retrieval-from-source-code) for all Flare's smart contracts.
These addresses can be used to speed up development, but should not be used in production.

To emphasize: Applications are strongly encouraged to retrieve any contract address they need directly from the blockchain and not have addresses hard-coded into the source code, except for the single entry point given in this page.

## Retrieval from Blockchain

All of Flare's smart contract addresses can be retrieved from the [`FlareContractRegistry`](FlareContractRegistry.md) contract.
This is the only contract address given in this documentation.

<div class="important-table" markdown>
|                                    `FlareContractRegistry`                                     |
| :--------------------------------------------------------------------------------------------: |
| <pre><code style="padding-right: 3em;">0xaD67FE66660Fb8dFE9d6b1b4240d8650e30F6019</code></pre> |
</div>

!!! tip "This contract is available at the same address in all Flare networks: Flare, Songbird, Coston and Coston2."

Copy the above address into the [Block Explorer](../../user/block-explorers/index.md) to see the available contract's methods.

You can retrieve the current address on the blockchain of any Flare smart contract from its name by using these methods, for example:

```solidity
function getContractAddressByName(
    string calldata _name
) external view returns (
    address);


function getContractAddressesByName(
    string[] calldata _names
) external view returns (
    address[] memory);
```

The name search is **case-sensitive**, so you should use the proper capitalization.
For example:

* [`WNat`](WNat.md)
* [`FtsoRewardManager`](FtsoRewardManager.md)
* [`PriceSubmitter`](PriceSubmitter.md)

Applications can also retrieve all smart contract names and addresses at once using:

```solidity
function getAllContracts(
) external view returns(
    string[] memory _names,
    address[] memory _addresses);
```

<button class="md-button" id="contract-list-button">Retrieve current list</button>
<div id="contract-list-results"></div>

## Retrieval from Source Code

The [Flare Smart Contracts repository](https://gitlab.com/flarenetwork/flare-smart-contracts) contains an autogenerated JSON file listing the latest deployed addresses of all Flare contracts on each network.

You can find this file in the `deployment/deploys` folder, and parse it to retrieve the addresses of any Flare contract.

!!! warning

    As stated at the beginning, applications should NOT have Flare contract addresses in their source code.

    Instead, applications are strongly encouraged to retrieve any contract address they need directly from the blockchain [as described above](#retrieval-from-blockchain).

|          | Branch                           | JSON file               |
| -------- | -------------------------------- | ----------------------- |
| Flare    | `flare_network_deployed_code`    | [flare.json][f-json]    |
| Songbird | `songbird_network_deployed_code` | [songbird.json][s-json] |
| Coston   | `coston_network_deployed_code`   | [coston.json][c-json]   |
| Coston2  | `coston2_network_deployed_code`  | [coston2.json][c2-json] |

[f-json]: https://gitlab.com/flarenetwork/flare-smart-contracts/-/blob/flare_network_deployed_code/deployment/deploys/flare.json
[s-json]: https://gitlab.com/flarenetwork/flare-smart-contracts/-/blob/songbird_network_deployed_code/deployment/deploys/songbird.json
[c-json]: https://gitlab.com/flarenetwork/flare-smart-contracts/-/blob/coston_network_deployed_code/deployment/deploys/coston.json
[c2-json]: https://gitlab.com/flarenetwork/flare-smart-contracts/-/blob/coston2_network_deployed_code/deployment/deploys/coston2.json

<script type="module">
    const button = document.getElementById("contract-list-button");
    const list = document.getElementById("contract-list-results");
    button.addEventListener("click", (e) => {
        e.preventDefault();
        button.style.display = "none";
        list.innerHTML = "Retrieving...";
        import("/assets/javascripts/ethers-6.3.esm.min.js").then(ethers => {
            const provider = new ethers.JsonRpcProvider("https://flare-api.flare.network/ext/bc/C/rpc");
            const flareContractRegistry = new ethers.Contract(
                "0xaD67FE66660Fb8dFE9d6b1b4240d8650e30F6019",
                ["function getAllContracts() external view returns(string[] memory, address[] memory)"],
                provider);
            const res = flareContractRegistry.getAllContracts().then(res => {
                list.innerHTML = "Current smart contract list:";
                var ul=document.createElement('ul');
                for (var i = 0; i < res[0].length; ++i) {
                    var li = document.createElement('li');
                    li.innerHTML = `<code>${res[0][i]}</code>`;
                    ul.appendChild(li);
                }
                list.appendChild(ul);
            });
        });
    });
</script>
