---
title: CheckPointable
search:
  boost: 0.5
---

<!-- This is an autogenerated file. Do not edit! -->

# `CheckPointable` { #ct_checkpointable }

<div class="api-node-source" markdown>
[Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/token/implementation/CheckPointable.sol)
</div>

<div class="api-node-internal" markdown>

Check-Pointable ERC20 Behavior.

ERC20 behavior that adds balance check-point features.

</div>

<div class="api-node-type" markdown>

## Events

<div class="api-node" markdown>

### `CreatedTotalSupplyCache` { #ev_createdtotalsupplycache }

<div class="api-node-source" markdown>
Defined in `CheckPointable` ([Docs](./CheckPointable.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/token/implementation/CheckPointable.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
event CreatedTotalSupplyCache(
    uint256 _blockNumber
)
```

Emitted when a total supply cache entry is created.
Allows history cleaners to track total supply cache cleanup opportunities off-chain.

</div>
</div>

</div>

<div class="api-node-type" markdown>

## Functions

<div class="api-node" markdown>

### `balanceHistoryCleanup` { #fn_balancehistorycleanup_f0e292c9 }

<div class="api-node-source" markdown>
Defined in `CheckPointable` ([Docs](./CheckPointable.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/token/implementation/CheckPointable.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function balanceHistoryCleanup(
    address _owner,
    uint256 _count
) external returns (
    uint256);
```

Delete balance checkpoints that expired (i.e. are before `cleanupBlockNumber`).
Method can only be called from the [`cleanerContract`](#va_cleanercontract) (which may be a proxy to external cleaners).

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_owner` | `address` | balance owner account address |
| `_count` | `uint256` | maximum number of checkpoints to delete |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | the number of checkpoints deleted |
</div>
</div>

<div class="api-node" markdown>

### `totalSupplyCacheCleanup` { #fn_totalsupplycachecleanup_43ea370b }

<div class="api-node-source" markdown>
Defined in `CheckPointable` ([Docs](./CheckPointable.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/token/implementation/CheckPointable.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function totalSupplyCacheCleanup(
    uint256 _blockNumber
) external returns (
    uint256);
```

Delete total supply cache entry that expired (i.e. is before `cleanupBlockNumber`).
Method can only be called from the [`cleanerContract`](#va_cleanercontract) (which may be a proxy to external cleaners).

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_blockNumber` | `uint256` | the block number for which total supply value was cached |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | the number of cache entries deleted (always 0 or 1) |
</div>
</div>

<div class="api-node" markdown>

### `totalSupplyHistoryCleanup` { #fn_totalsupplyhistorycleanup_f62f8f3a }

<div class="api-node-source" markdown>
Defined in `CheckPointable` ([Docs](./CheckPointable.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/token/implementation/CheckPointable.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function totalSupplyHistoryCleanup(
    uint256 _count
) external returns (
    uint256);
```

Delete total supply checkpoints that expired (i.e. are before `cleanupBlockNumber`).
Method can only be called from the [`cleanerContract`](#va_cleanercontract) (which may be a proxy to external cleaners).

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_count` | `uint256` | maximum number of checkpoints to delete |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | the number of checkpoints deleted |
</div>
</div>

</div>

<div class="api-node-type" markdown>

## Modifiers

<div class="api-node" markdown>

### `notBeforeCleanupBlock` { #md_notbeforecleanupblock }

<div class="api-node-source" markdown>
Defined in `CheckPointable` ([Docs](./CheckPointable.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/token/implementation/CheckPointable.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
modifier notBeforeCleanupBlock(    uint256 _blockNumber)
```

This method cannot be called for `_blockNumber` lower than the current cleanup block number.

</div>
</div>

<div class="api-node" markdown>

### `onlyCleaner` { #md_onlycleaner }

<div class="api-node-source" markdown>
Defined in `CheckPointable` ([Docs](./CheckPointable.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/token/implementation/CheckPointable.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
modifier onlyCleaner()
```

Only the [`cleanerContract`](#va_cleanercontract) can call this method.

</div>
</div>

</div>

<div class="api-node-type" markdown>

## Variables

<div class="api-node" markdown>

### `cleanerContract` { #va_cleanercontract }

<div class="api-node-source" markdown>
Defined in `CheckPointable` ([Docs](./CheckPointable.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/token/implementation/CheckPointable.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
    address cleanerContract
```

Address of the contract that is allowed to call methods for history cleaning.

</div>
</div>

</div>

