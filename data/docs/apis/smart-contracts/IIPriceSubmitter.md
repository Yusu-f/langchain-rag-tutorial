---
title: IIPriceSubmitter
search:
  boost: 0.5
---

<!-- This is an autogenerated file. Do not edit! -->

# `IIPriceSubmitter` { #ct_iipricesubmitter }

<div class="api-node-source" markdown>
[Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/genesis/interface/IIPriceSubmitter.sol) | Inherits from [IPriceSubmitter](./IPriceSubmitter.md)
</div>

<div class="api-node-internal" markdown>

Internal interface for the [`PriceSubmitter`](./PriceSubmitter.md) contract.

</div>

<div class="api-node-type" markdown>

## Functions

<div class="api-node" markdown>

### `getCurrentRandom` { #fn_getcurrentrandom_d89601fd }

<div class="api-node-source" markdown>
Defined in `IPriceSubmitter` ([Docs](./IPriceSubmitter.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/userInterfaces/IPriceSubmitter.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getCurrentRandom(
) external view returns (
    uint256);
```

Returns the random number for the previous epoch, obtained from the random numbers
provided by all data providers along with their data submissions.
Note that the random number for the previous epoch keeps updating as new submissions are revealed.

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | Random number calculated from all data provider's submissions. |
</div>
</div>

<div class="api-node" markdown>

### `getFtsoManager` { #fn_getftsomanager_b39c6858 }

<div class="api-node-source" markdown>
Defined in `IPriceSubmitter` ([Docs](./IPriceSubmitter.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/userInterfaces/IPriceSubmitter.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getFtsoManager(
) external view returns (
    contract IFtsoManagerGenesis);
```

Returns the address of the [`FtsoManager`](./FtsoManager.md) contract.

</div>
</div>

<div class="api-node" markdown>

### `getFtsoRegistry` { #fn_getftsoregistry_8c9d28b6 }

<div class="api-node-source" markdown>
Defined in `IPriceSubmitter` ([Docs](./IPriceSubmitter.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/userInterfaces/IPriceSubmitter.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getFtsoRegistry(
) external view returns (
    contract IFtsoRegistryGenesis);
```

Returns the address of the [`FtsoRegistry`](./FtsoRegistry.md) contract.

</div>
</div>

<div class="api-node" markdown>

### `getRandom` { #fn_getrandom_cd4b6914 }

<div class="api-node-source" markdown>
Defined in `IPriceSubmitter` ([Docs](./IPriceSubmitter.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/userInterfaces/IPriceSubmitter.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getRandom(
    uint256 _epochId
) external view returns (
    uint256);
```

Returns the random number used in a specific past epoch, obtained from the random numbers
provided by all data providers along with their data submissions.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_epochId` | `uint256` | ID of the queried epoch. Current epoch cannot be queried, and the previous epoch is constantly updated as data providers reveal their prices and random numbers. Note that only the last 50 epochs can be queried and there is no bounds checking for this parameter. Out-of-bounds queries return undefined values. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | The random number used in that epoch. |
</div>
</div>

<div class="api-node" markdown>

### `getTrustedAddresses` { #fn_gettrustedaddresses_ffacb84e }

<div class="api-node-source" markdown>
Defined in `IIPriceSubmitter` ([Docs](./IIPriceSubmitter.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/genesis/interface/IIPriceSubmitter.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getTrustedAddresses(
) external view returns (
    address[]);
```

Returns the list of trusted addresses that are always allowed to submit and reveal.

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `address[]` | address[] Array of trusted voter addresses. |
</div>
</div>

<div class="api-node" markdown>

### `getVoterWhitelister` { #fn_getvoterwhitelister_71e1fad9 }

<div class="api-node-source" markdown>
Defined in `IPriceSubmitter` ([Docs](./IPriceSubmitter.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/userInterfaces/IPriceSubmitter.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getVoterWhitelister(
) external view returns (
    address);
```

Returns the address of the [`VoterWhitelister`](./VoterWhitelister.md) contract managing the data provider whitelist.

</div>
</div>

<div class="api-node" markdown>

### `revealPrices` { #fn_revealprices_e2db5a52 }

<div class="api-node-source" markdown>
Defined in `IPriceSubmitter` ([Docs](./IPriceSubmitter.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/userInterfaces/IPriceSubmitter.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function revealPrices(
    uint256 _epochId,
    uint256[] _ftsoIndices,
    uint256[] _prices,
    uint256 _random
) external;
```

Reveals submitted prices during the epoch reveal period.
The hash of FTSO indices, prices, random number, and voter address must be equal
to the hash previously submitted with [`submitHash`](#fn_submithash_8fc6f667).
Emits a [`PricesRevealed`](#ev_pricesrevealed) event.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_epochId` | `uint256` | ID of the epoch to which the price hashes are submitted. |
| `_ftsoIndices` | `uint256[]` | List of FTSO indices in ascending order. |
| `_prices` | `uint256[]` | List of submitted prices in USD. |
| `_random` | `uint256` | Submitted random number. |

</div>
</div>

<div class="api-node" markdown>

### `setTrustedAddresses` { #fn_settrustedaddresses_9ec2b581 }

<div class="api-node-source" markdown>
Defined in `IIPriceSubmitter` ([Docs](./IIPriceSubmitter.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/genesis/interface/IIPriceSubmitter.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function setTrustedAddresses(
    address[] _trustedAddresses
) external;
```

Set trusted addresses that are always allowed to submit and reveal.
Only ftso manager can call this method.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_trustedAddresses` | `address[]` | Array of voter addresses. |

</div>
</div>

<div class="api-node" markdown>

### `submitHash` { #fn_submithash_8fc6f667 }

<div class="api-node-source" markdown>
Defined in `IPriceSubmitter` ([Docs](./IPriceSubmitter.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/userInterfaces/IPriceSubmitter.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function submitHash(
    uint256 _epochId,
    bytes32 _hash
) external;
```

Submits a hash for the current epoch. Can only be called by FTSO data providers
whitelisted through the `VoterWhitelisted` contract.
Emits the [`HashSubmitted`](#ev_hashsubmitted) event.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_epochId` | `uint256` | ID of the target epoch to which the hash is submitted. |
| `_hash` | `bytes32` | A hash of the FTSO indices, prices, random number, and voter address. |

</div>
</div>

<div class="api-node" markdown>

### `voterWhitelistBitmap` { #fn_voterwhitelistbitmap_7ac420ad }

<div class="api-node-source" markdown>
Defined in `IPriceSubmitter` ([Docs](./IPriceSubmitter.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/userInterfaces/IPriceSubmitter.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function voterWhitelistBitmap(
    address _voter
) external view returns (
    uint256);
```

Returns a bitmap of all FTSOs for which a data provider is allowed to submit prices or hashes.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_voter` | `address` | Address of the voter. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | If a data provider is allowed to vote for a given FTSO index, the corresponding bit in the result is 1. |
</div>
</div>

<div class="api-node" markdown>

### `voterWhitelisted` { #fn_voterwhitelisted_9d986f91 }

<div class="api-node-source" markdown>
Defined in `IIPriceSubmitter` ([Docs](./IIPriceSubmitter.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/genesis/interface/IIPriceSubmitter.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function voterWhitelisted(
    address _voter,
    uint256 _ftsoIndex
) external;
```

Called from the [`VoterWhitelister`](./VoterWhitelister.md) contract when a new voter has been whitelisted.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_voter` | `address` | Voter address that has been added to the whitelist. |
| `_ftsoIndex` | `uint256` | Index of the FTSO to which the voter has registered. Each FTSO has its own whitelist. |

</div>
</div>

<div class="api-node" markdown>

### `votersRemovedFromWhitelist` { #fn_votersremovedfromwhitelist_76794efb }

<div class="api-node-source" markdown>
Defined in `IIPriceSubmitter` ([Docs](./IIPriceSubmitter.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/genesis/interface/IIPriceSubmitter.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function votersRemovedFromWhitelist(
    address[] _voters,
    uint256 _ftsoIndex
) external;
```

Called from the [`VoterWhitelister`](./VoterWhitelister.md) contract when one or more voters have been removed.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_voters` | `address[]` | Array of voter addresses that have been removed. |
| `_ftsoIndex` | `uint256` | Index of the FTSO to which the voters were registered. Each FTSO has its own whitelist. |

</div>
</div>

</div>

