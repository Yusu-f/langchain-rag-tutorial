---
title: PChainStakeMirror
search:
  boost: 0.5
---

<!-- This is an autogenerated file. Do not edit! -->

# `PChainStakeMirror` { #ct_pchainstakemirror }

<div class="api-node-source" markdown>
[Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStakeMirror.sol) | Inherits from [IPChainStakeMirror](./IPChainStakeMirror.md), [PChainStake](./PChainStake.md), [GovernedAndFlareDaemonized](./GovernedAndFlareDaemonized.md), [IFlareDaemonize](./IFlareDaemonize.md), [IICleanable](./IICleanable.md), [AddressUpdatable](./AddressUpdatable.md)
</div>

<div class="api-node-internal" markdown>

Contract used to mirror all stake amounts from P-chain.

</div>

<div class="api-node-type" markdown>

## Functions

<div class="api-node" markdown>

### `activate` { #fn_activate_0f15f4c0 }

<div class="api-node-source" markdown>
Defined in `PChainStakeMirror` ([Docs](./PChainStakeMirror.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStakeMirror.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function activate(
) external;
```

Activates [`PChainStakeMirror`](./PChainStakeMirror.md) contract - enable mirroring.

Only [`governance`](#fn_governance_5aa6e675) can call this.

</div>
</div>

<div class="api-node" markdown>

### `balanceHistoryCleanup` { #fn_balancehistorycleanup_f0e292c9 }

<div class="api-node-source" markdown>
Defined in `CheckPointable` ([Docs](./CheckPointable.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/token/implementation/CheckPointable.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function balanceHistoryCleanup(
    address _owner,
    uint256 _count
) external returns (
    uint256);
```

Delete balance checkpoints that expired (i.e. are before `cleanupBlockNumber`).
Method can only be called from the [`cleanerContract`](#va_cleanercontract) (which may be a proxy to external cleaners).

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_owner` | `address` | balance owner account address |
| `_count` | `uint256` | maximum number of checkpoints to delete |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | the number of checkpoints deleted |
</div>
</div>

<div class="api-node" markdown>

### `balanceOf` { #fn_balanceof_70a08231 }

<div class="api-node-source" markdown>
Defined in `PChainStakeMirror` ([Docs](./PChainStakeMirror.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStakeMirror.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function balanceOf(
    address _owner
) public view returns (
    uint256);
```

Queries the token balance of `_owner` at current block.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_owner` | `address` | The address from which the balance will be retrieved. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | The current balance. |
</div>
</div>

<div class="api-node" markdown>

### `balanceOfAt` { #fn_balanceofat_4ee2cd7e }

<div class="api-node-source" markdown>
Defined in `PChainStakeMirror` ([Docs](./PChainStakeMirror.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStakeMirror.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function balanceOfAt(
    address _owner,
    uint256 _blockNumber
) public view returns (
    uint256);
```

Queries the token balance of `_owner` at a specific `_blockNumber`.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_owner` | `address` | The address from which the balance will be retrieved. |
| `_blockNumber` | `uint256` | The block number when the balance is queried. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | The balance at `_blockNumber`. |
</div>
</div>

<div class="api-node" markdown>

### `batchVotePowerOfAt` { #fn_batchvotepowerofat_a9e70199 }

<div class="api-node-source" markdown>
Defined in `PChainStake` ([Docs](./PChainStake.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStake.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function batchVotePowerOfAt(
    bytes20[] _owners,
    uint256 _blockNumber
) external view returns (
    uint256[] _votePowers);
```

Return vote powers for several node ids in a batch.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_owners` | `bytes20[]` |  |
| `_blockNumber` | `uint256` | The block number at which to fetch. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| `_votePowers` | `uint256[]` | A list of vote powers. |
</div>
</div>

<div class="api-node" markdown>

### `cancelGovernanceCall` { #fn_cancelgovernancecall_67fc4029 }

<div class="api-node-source" markdown>
Defined in `GovernedBase` ([Docs](./GovernedBase.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/governance/implementation/GovernedBase.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function cancelGovernanceCall(
    bytes4 _selector
) external;
```

Cancel a timelocked [`governance`](#fn_governance_5aa6e675) call before it has been executed.

Only [`governance`](#fn_governance_5aa6e675) can call this method.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_selector` | `bytes4` | The method selector. |

</div>
</div>

<div class="api-node" markdown>

### `cleanupBlockNumber` { #fn_cleanupblocknumber_deea13e7 }

<div class="api-node-source" markdown>
Defined in `PChainStakeMirror` ([Docs](./PChainStakeMirror.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStakeMirror.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function cleanupBlockNumber(
) external view returns (
    uint256);
```

Get the current cleanup block number set with [`setCleanupBlockNumber`](#fn_setcleanupblocknumber_13de97f5).

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | The currently set cleanup block number. |
</div>
</div>

<div class="api-node" markdown>

### `constructor` { #fn_constructor_undefined }

<div class="api-node-source" markdown>
Defined in `PChainStakeMirror` ([Docs](./PChainStakeMirror.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStakeMirror.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
constructor(
    address _governance,
    contract FlareDaemon _flareDaemon,
    address _addressUpdater,
    uint256 _maxUpdatesPerBlock
) public;
```

Initializes the contract with default parameters

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_governance` | `address` | Address identifying the governance address |
| `_flareDaemon` | `contract FlareDaemon` | Address identifying the flare daemon contract |
| `_addressUpdater` | `address` | Address identifying the address updater contract |
| `_maxUpdatesPerBlock` | `uint256` | Max number of updates (stake ends) per block |

</div>
</div>

<div class="api-node" markdown>

### `daemonize` { #fn_daemonize_6d0e8c34 }

<div class="api-node-source" markdown>
Defined in `PChainStakeMirror` ([Docs](./PChainStakeMirror.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStakeMirror.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function daemonize(
) external returns (
    bool);
```

Implement this function to receive a trigger from the [`FlareDaemon`](./FlareDaemon.md).
The trigger method is called by the validator right at the end of block state transition.

Only flare daemon can call this.
Reduce balances and vote powers for stakes that just ended.

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `bool` | bool Whether the contract is still active after the call. Currently unused. |
</div>
</div>

<div class="api-node" markdown>

### `deactivate` { #fn_deactivate_51b42b00 }

<div class="api-node-source" markdown>
Defined in `PChainStakeMirror` ([Docs](./PChainStakeMirror.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStakeMirror.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function deactivate(
) external;
```

Deactivates [`PChainStakeMirror`](./PChainStakeMirror.md) contract - disable mirroring.

Only [`governance`](#fn_governance_5aa6e675) can call this.

</div>
</div>

<div class="api-node" markdown>

### `executeGovernanceCall` { #fn_executegovernancecall_5ff27079 }

<div class="api-node-source" markdown>
Defined in `GovernedBase` ([Docs](./GovernedBase.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/governance/implementation/GovernedBase.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function executeGovernanceCall(
    bytes4 _selector
) external;
```

Execute the timelocked [`governance`](#fn_governance_5aa6e675) calls once the timelock period expires.

Only executor can call this method.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_selector` | `bytes4` | The method selector (only one timelocked call per method is stored). |

</div>
</div>

<div class="api-node" markdown>

### `getAddressUpdater` { #fn_getaddressupdater_5267a15d }

<div class="api-node-source" markdown>
Defined in `AddressUpdatable` ([Docs](./AddressUpdatable.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/addressUpdater/implementation/AddressUpdatable.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getAddressUpdater(
) public view returns (
    address _addressUpdater);
```

Returns the configured address updater.

| Returns | Type | Description |
| ------- | ---- | ----------- |
| `_addressUpdater` | `address` | The `AddresUpdater` contract that can update our contract address list, as a response to a governance call. |
</div>
</div>

<div class="api-node" markdown>

### `getContractName` { #fn_getcontractname_f5f5ba72 }

<div class="api-node-source" markdown>
Defined in `PChainStakeMirror` ([Docs](./PChainStakeMirror.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStakeMirror.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getContractName(
) external pure returns (
    string);
```

Implement this function to allow updating daemonized contracts through the [`AddressUpdater`](./AddressUpdater.md).

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `string` | string Contract name. |
</div>
</div>

<div class="api-node" markdown>

### `getTransactionHashList` { #fn_gettransactionhashlist_d9bb0a87 }

<div class="api-node-source" markdown>
Defined in `PChainStakeMirror` ([Docs](./PChainStakeMirror.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStakeMirror.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getTransactionHashList(
    uint256 _endTime
) external view returns (
    bytes32[]);
```

Returns the list of transaction hashes of stakes that end at given `_endTime`.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_endTime` | `uint256` | Time when stakes end, in seconds from UNIX epoch. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `bytes32[]` | List of transaction hashes - `keccak256(abi.encode(txId, inputAddress))`. |
</div>
</div>

<div class="api-node" markdown>

### `governance` { #fn_governance_5aa6e675 }

<div class="api-node-source" markdown>
Defined in `GovernedBase` ([Docs](./GovernedBase.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/governance/implementation/GovernedBase.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function governance(
) public view returns (
    address);
```

Returns the current effective [`governance`](#fn_governance_5aa6e675) address.

</div>
</div>

<div class="api-node" markdown>

### `isActiveStakeMirrored` { #fn_isactivestakemirrored_d9ab4dfe }

<div class="api-node-source" markdown>
Defined in `PChainStakeMirror` ([Docs](./PChainStakeMirror.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStakeMirror.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function isActiveStakeMirrored(
    bytes32 _txId,
    bytes20 _inputAddress
) external view returns (
    bool);
```

Method for checking if [`active`](#va_active) stake (stake start time <= block.timestamp < stake end time) was already mirrored.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_txId` | `bytes32` | P-chain stake transaction id. |
| `_inputAddress` | `bytes20` | P-chain address that opened stake. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `bool` | True if stake is active and mirrored. |
</div>
</div>

<div class="api-node" markdown>

### `mirrorStake` { #fn_mirrorstake_2e335805 }

<div class="api-node-source" markdown>
Defined in `PChainStakeMirror` ([Docs](./PChainStakeMirror.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStakeMirror.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function mirrorStake(
    struct IPChainStakeMirrorVerifier.PChainStake _stakeData,
    bytes32[] _merkleProof
) external;
```

Method for P-chain stake mirroring using [`PChainStake`](./PChainStake.md) data and Merkle proof.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_stakeData` | `struct IPChainStakeMirrorVerifier.PChainStake` | Information about P-chain stake. |
| `_merkleProof` | `bytes32[]` | Merkle proof that should be used to prove the P-chain stake. |

</div>
</div>

<div class="api-node" markdown>

### `revokeStake` { #fn_revokestake_a7d99caf }

<div class="api-node-source" markdown>
Defined in `PChainStakeMirror` ([Docs](./PChainStakeMirror.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStakeMirror.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function revokeStake(
    bytes32 _txId,
    bytes20 _inputAddress,
    uint256 _endTime,
    uint256 _endTimeTxHashIndex
) external;
```

Revokes stake in case of invalid stakes - voting should be reset first,
so that Merkle root is not valid and it cannot be used for mirroring again.

Only [`governance`](#fn_governance_5aa6e675) can call this.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_txId` | `bytes32` | P-chain stake transaction id. |
| `_inputAddress` | `bytes20` | P-chain address that opened stake. |
| `_endTime` | `uint256` | Time when stake ends, in seconds from UNIX epoch. |
| `_endTimeTxHashIndex` | `uint256` | Index of `txHash = keccak256(abi.encode(_txId, _inputAddress))`                            in the `endTimeToTransactionHashList[_endTime]` list. |

</div>
</div>

<div class="api-node" markdown>

### `setCleanerContract` { #fn_setcleanercontract_f6a494af }

<div class="api-node-source" markdown>
Defined in `PChainStakeMirror` ([Docs](./PChainStakeMirror.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStakeMirror.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function setCleanerContract(
    address _cleanerContract
) external;
```

Set the contract that is allowed to call history cleaning methods.

Only [`governance`](#fn_governance_5aa6e675) can call this.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_cleanerContract` | `address` | Address of the cleanup contract. Usually this will be an instance of [`CleanupBlockNumberManager`](./CleanupBlockNumberManager.md). |

</div>
</div>

<div class="api-node" markdown>

### `setCleanupBlockNumber` { #fn_setcleanupblocknumber_13de97f5 }

<div class="api-node-source" markdown>
Defined in `PChainStakeMirror` ([Docs](./PChainStakeMirror.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStakeMirror.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function setCleanupBlockNumber(
    uint256 _blockNumber
) external;
```

Set the cleanup block number.
Historic data for the blocks before [`cleanupBlockNumber`](#fn_cleanupblocknumber_deea13e7) can be erased.
History before that block should never be used since it can be inconsistent.
In particular, cleanup block number must be lower than the current vote power block.

The method can be called only by [`cleanupBlockNumberManager`](#va_cleanupblocknumbermanager).

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_blockNumber` | `uint256` | The new cleanup block number. |

</div>
</div>

<div class="api-node" markdown>

### `setMaxUpdatesPerBlock` { #fn_setmaxupdatesperblock_4dd4ce49 }

<div class="api-node-source" markdown>
Defined in `PChainStakeMirror` ([Docs](./PChainStakeMirror.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStakeMirror.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function setMaxUpdatesPerBlock(
    uint256 _maxUpdatesPerBlock
) external;
```

Sets max number of updates (stake ends) per block (a [`daemonize`](#fn_daemonize_6d0e8c34) call).

Only [`governance`](#fn_governance_5aa6e675) can call this.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_maxUpdatesPerBlock` | `uint256` | Max number of updates (stake ends) per block |

</div>
</div>

<div class="api-node" markdown>

### `stakesHistoryCleanup` { #fn_stakeshistorycleanup_c13edf70 }

<div class="api-node-source" markdown>
Defined in `PChainStake` ([Docs](./PChainStake.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStake.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function stakesHistoryCleanup(
    address _owner,
    uint256 _count
) external returns (
    uint256);
```

Delete stakes checkpoints that expired (i.e. are before `cleanupBlockNumber`).
Method can only be called from the [`cleanerContract`](#va_cleanercontract) (which may be a proxy to external cleaners).

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_owner` | `address` | Balance owner account address. |
| `_count` | `uint256` | Maximum number of checkpoints to delete. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | Number of deleted checkpoints. |
</div>
</div>

<div class="api-node" markdown>

### `stakesOf` { #fn_stakesof_33b69c4c }

<div class="api-node-source" markdown>
Defined in `PChainStake` ([Docs](./PChainStake.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStake.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function stakesOf(
    address _owner
) external view returns (
    bytes20[] _nodeIds,
    uint256[] _amounts);
```

Get the amounts and node ids being staked to by a vote power owner.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_owner` | `address` | The address being queried. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| `_nodeIds` | `bytes20[]` | Array of node ids. |
| `_amounts` | `uint256[]` | Array of staked amounts, for each node id. |
</div>
</div>

<div class="api-node" markdown>

### `stakesOfAt` { #fn_stakesofat_4be91f32 }

<div class="api-node-source" markdown>
Defined in `PChainStake` ([Docs](./PChainStake.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStake.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function stakesOfAt(
    address _owner,
    uint256 _blockNumber
) external view returns (
    bytes20[] _nodeIds,
    uint256[] _amounts);
```

Get the amounts and node ids being staked to by a vote power owner,
at a given block.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_owner` | `address` | The address being queried. |
| `_blockNumber` | `uint256` | The block number being queried. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| `_nodeIds` | `bytes20[]` | Array of node ids. |
| `_amounts` | `uint256[]` | Array of staked amounts, for each node id. |
</div>
</div>

<div class="api-node" markdown>

### `switchToFallbackMode` { #fn_switchtofallbackmode_e22fdece }

<div class="api-node-source" markdown>
Defined in `PChainStakeMirror` ([Docs](./PChainStakeMirror.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStakeMirror.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function switchToFallbackMode(
) external returns (
    bool);
```

This function will be called after an error is caught in [`daemonize`](#fn_daemonize_6d0e8c34).
It will switch the contract to a simpler fallback mode, which hopefully works when full mode doesn't.
Not every contract needs to support fallback mode ([`FtsoManager`](./FtsoManager.md) does), so this method may be empty.
Switching back to normal mode is left to the contract (typically a governed method call).
This function may be called due to low-gas error, so it shouldn't use more than ~30.000 gas.

Only flare daemon can call this.

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `bool` | True if switched to fallback mode, false if already in fallback mode or if fallback mode is not supported. |
</div>
</div>

<div class="api-node" markdown>

### `switchToProductionMode` { #fn_switchtoproductionmode_f5a98383 }

<div class="api-node-source" markdown>
Defined in `GovernedBase` ([Docs](./GovernedBase.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/governance/implementation/GovernedBase.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function switchToProductionMode(
) external;
```

Enter the production mode after all the initial [`governance`](#fn_governance_5aa6e675) settings have been set.
This enables timelocks and the [`governance`](#fn_governance_5aa6e675) can be obtained afterward by calling
[`governanceSettings`](#va_governancesettings).getGovernanceAddress().
Emits [`GovernedProductionModeEntered`](#ev_governedproductionmodeentered).

</div>
</div>

<div class="api-node" markdown>

### `totalSupply` { #fn_totalsupply_18160ddd }

<div class="api-node-source" markdown>
Defined in `PChainStakeMirror` ([Docs](./PChainStakeMirror.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStakeMirror.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function totalSupply(
) public view returns (
    uint256);
```

Total amount of tokens at current block.

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | The current total amount of tokens. |
</div>
</div>

<div class="api-node" markdown>

### `totalSupplyAt` { #fn_totalsupplyat_981b24d0 }

<div class="api-node-source" markdown>
Defined in `PChainStakeMirror` ([Docs](./PChainStakeMirror.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStakeMirror.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function totalSupplyAt(
    uint256 _blockNumber
) public view returns (
    uint256);
```

Total amount of tokens at a specific `_blockNumber`.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_blockNumber` | `uint256` | The block number when the totalSupply is queried. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | The total amount of tokens at `_blockNumber`. |
</div>
</div>

<div class="api-node" markdown>

### `totalSupplyCacheCleanup` { #fn_totalsupplycachecleanup_43ea370b }

<div class="api-node-source" markdown>
Defined in `CheckPointable` ([Docs](./CheckPointable.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/token/implementation/CheckPointable.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function totalSupplyCacheCleanup(
    uint256 _blockNumber
) external returns (
    uint256);
```

Delete total supply cache entry that expired (i.e. is before `cleanupBlockNumber`).
Method can only be called from the [`cleanerContract`](#va_cleanercontract) (which may be a proxy to external cleaners).

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_blockNumber` | `uint256` | the block number for which total supply value was cached |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | the number of cache entries deleted (always 0 or 1) |
</div>
</div>

<div class="api-node" markdown>

### `totalSupplyHistoryCleanup` { #fn_totalsupplyhistorycleanup_f62f8f3a }

<div class="api-node-source" markdown>
Defined in `CheckPointable` ([Docs](./CheckPointable.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/token/implementation/CheckPointable.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function totalSupplyHistoryCleanup(
    uint256 _count
) external returns (
    uint256);
```

Delete total supply checkpoints that expired (i.e. are before `cleanupBlockNumber`).
Method can only be called from the [`cleanerContract`](#va_cleanercontract) (which may be a proxy to external cleaners).

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_count` | `uint256` | maximum number of checkpoints to delete |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | the number of checkpoints deleted |
</div>
</div>

<div class="api-node" markdown>

### `totalVotePower` { #fn_totalvotepower_f5f3d4f7 }

<div class="api-node-source" markdown>
Defined in `PChainStake` ([Docs](./PChainStake.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStake.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function totalVotePower(
) external view returns (
    uint256);
```

Get the current total vote power.

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | The current total vote power (sum of all accounts' vote powers). |
</div>
</div>

<div class="api-node" markdown>

### `totalVotePowerAt` { #fn_totalvotepowerat_3e5aa26a }

<div class="api-node-source" markdown>
Defined in `PChainStake` ([Docs](./PChainStake.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStake.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function totalVotePowerAt(
    uint256 _blockNumber
) external view returns (
    uint256);
```

Get the total vote power at block `_blockNumber`

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_blockNumber` | `uint256` | The block number at which to fetch. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | The total vote power at the block  (sum of all accounts' vote powers). |
</div>
</div>

<div class="api-node" markdown>

### `totalVotePowerAtCached` { #fn_totalvotepoweratcached_caeb942b }

<div class="api-node-source" markdown>
Defined in `PChainStake` ([Docs](./PChainStake.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStake.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function totalVotePowerAtCached(
    uint256 _blockNumber
) external returns (
    uint256);
```

Get the total vote power at block `_blockNumber` using cache.
  It tries to read the cached value and if not found, reads the actual value and stores it in cache.
  Can only be used if `_blockNumber` is in the past, otherwise reverts.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_blockNumber` | `uint256` | The block number at which to fetch. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | The total vote power at the block (sum of all accounts' vote powers). |
</div>
</div>

<div class="api-node" markdown>

### `updateContractAddresses` { #fn_updatecontractaddresses_b00c0b76 }

<div class="api-node-source" markdown>
Defined in `AddressUpdatable` ([Docs](./AddressUpdatable.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/addressUpdater/implementation/AddressUpdatable.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function updateContractAddresses(
    bytes32[] _contractNameHashes,
    address[] _contractAddresses
) external;
```

External method called from [`AddressUpdater`](./AddressUpdater.md) only.

</div>
</div>

<div class="api-node" markdown>

### `votePowerCacheCleanup` { #fn_votepowercachecleanup_a2e96264 }

<div class="api-node-source" markdown>
Defined in `PChainStake` ([Docs](./PChainStake.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStake.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function votePowerCacheCleanup(
    bytes20 _nodeId,
    uint256 _blockNumber
) external returns (
    uint256);
```

Delete vote power cache entry that expired (i.e. is before `cleanupBlockNumber`).
Method can only be called from the [`cleanerContract`](#va_cleanercontract) (which may be a proxy to external cleaners).

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_nodeId` | `bytes20` | vote power node id |
| `_blockNumber` | `uint256` | the block number for which total supply value was cached |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | the number of cache entries deleted (always 0 or 1) |
</div>
</div>

<div class="api-node" markdown>

### `votePowerFromTo` { #fn_votepowerfromto_59c345f5 }

<div class="api-node-source" markdown>
Defined in `PChainStake` ([Docs](./PChainStake.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStake.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function votePowerFromTo(
    address _owner,
    bytes20 _nodeId
) external view returns (
    uint256 _votePower);
```

Get current staked vote power from `_owner` staked to `_nodeId`.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_owner` | `address` | Address of vote power owner. |
| `_nodeId` | `bytes20` | Node id. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| `_votePower` | `uint256` | The staked vote power. |
</div>
</div>

<div class="api-node" markdown>

### `votePowerFromToAt` { #fn_votepowerfromtoat_1f7ff2c7 }

<div class="api-node-source" markdown>
Defined in `PChainStake` ([Docs](./PChainStake.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStake.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function votePowerFromToAt(
    address _owner,
    bytes20 _nodeId,
    uint256 _blockNumber
) external view returns (
    uint256 _votePower);
```

Get current staked vote power from `_owner` staked to `_nodeId` at `_blockNumber`.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_owner` | `address` | Address of vote power owner. |
| `_nodeId` | `bytes20` | Node id. |
| `_blockNumber` | `uint256` | The block number at which to fetch. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| `_votePower` | `uint256` | The staked vote power. |
</div>
</div>

<div class="api-node" markdown>

### `votePowerHistoryCleanup` { #fn_votepowerhistorycleanup_119b923a }

<div class="api-node-source" markdown>
Defined in `PChainStake` ([Docs](./PChainStake.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStake.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function votePowerHistoryCleanup(
    bytes20 _nodeId,
    uint256 _count
) external returns (
    uint256);
```

Delete vote power checkpoints that expired (i.e. are before `cleanupBlockNumber`).
Method can only be called from the [`cleanerContract`](#va_cleanercontract) (which may be a proxy to external cleaners).

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_nodeId` | `bytes20` | vote power node id |
| `_count` | `uint256` | maximum number of checkpoints to delete |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | the number of checkpoints deleted |
</div>
</div>

<div class="api-node" markdown>

### `votePowerOf` { #fn_votepowerof_b4eb2a81 }

<div class="api-node-source" markdown>
Defined in `PChainStake` ([Docs](./PChainStake.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStake.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function votePowerOf(
    bytes20 _nodeId
) external view returns (
    uint256);
```

Get the current vote power of `_nodeId`.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_nodeId` | `bytes20` | The node id to get voting power. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | Current vote power of `_nodeId`. |
</div>
</div>

<div class="api-node" markdown>

### `votePowerOfAt` { #fn_votepowerofat_46431374 }

<div class="api-node-source" markdown>
Defined in `PChainStake` ([Docs](./PChainStake.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStake.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function votePowerOfAt(
    bytes20 _nodeId,
    uint256 _blockNumber
) external view returns (
    uint256);
```

Get the vote power of `_nodeId` at block `_blockNumber`

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_nodeId` | `bytes20` | The node id to get voting power. |
| `_blockNumber` | `uint256` | The block number at which to fetch. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | Vote power of `_nodeId` at `_blockNumber`. |
</div>
</div>

<div class="api-node" markdown>

### `votePowerOfAtCached` { #fn_votepowerofatcached_bd61ffee }

<div class="api-node-source" markdown>
Defined in `PChainStake` ([Docs](./PChainStake.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStake.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function votePowerOfAtCached(
    bytes20 _nodeId,
    uint256 _blockNumber
) external returns (
    uint256);
```

Get the vote power of `_owner` at block `_blockNumber` using cache.
  It tries to read the cached value and if not found, reads the actual value and stores it in cache.
  Can only be used if _blockNumber is in the past, otherwise reverts.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_nodeId` | `bytes20` |  |
| `_blockNumber` | `uint256` | The block number at which to fetch. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | Vote power of `_owner` at `_blockNumber`. |
</div>
</div>

</div>

<div class="api-node-type" markdown>

## Modifiers

<div class="api-node" markdown>

### `notBeforeCleanupBlock` { #md_notbeforecleanupblock }

<div class="api-node-source" markdown>
Defined in `CheckPointable` ([Docs](./CheckPointable.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/token/implementation/CheckPointable.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
modifier notBeforeCleanupBlock(    uint256 _blockNumber)
```

This method cannot be called for `_blockNumber` lower than the current cleanup block number.

</div>
</div>

<div class="api-node" markdown>

### `onlyAddressUpdater` { #md_onlyaddressupdater }

<div class="api-node-source" markdown>
Defined in `AddressUpdatable` ([Docs](./AddressUpdatable.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/addressUpdater/implementation/AddressUpdatable.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
modifier onlyAddressUpdater()
```

Only the `AdressUpdater` contract can call this method.
Its address is set at construction time but it can also update itself.

</div>
</div>

<div class="api-node" markdown>

### `onlyCleaner` { #md_onlycleaner }

<div class="api-node-source" markdown>
Defined in `CheckPointable` ([Docs](./CheckPointable.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/token/implementation/CheckPointable.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
modifier onlyCleaner()
```

Only the [`cleanerContract`](#va_cleanercontract) can call this method.

</div>
</div>

<div class="api-node" markdown>

### `onlyFlareDaemon` { #md_onlyflaredaemon }

<div class="api-node-source" markdown>
Defined in `GovernedAndFlareDaemonized` ([Docs](./GovernedAndFlareDaemonized.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/utils/implementation/GovernedAndFlareDaemonized.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
modifier onlyFlareDaemon()
```

Only the [`flareDaemon`](#va_flaredaemon) can call this method.

</div>
</div>

<div class="api-node" markdown>

### `onlyGovernance` { #md_onlygovernance }

<div class="api-node-source" markdown>
Defined in `GovernedBase` ([Docs](./GovernedBase.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/governance/implementation/GovernedBase.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
modifier onlyGovernance()
```

</div>
</div>

<div class="api-node" markdown>

### `onlyImmediateGovernance` { #md_onlyimmediategovernance }

<div class="api-node-source" markdown>
Defined in `GovernedBase` ([Docs](./GovernedBase.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/governance/implementation/GovernedBase.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
modifier onlyImmediateGovernance()
```

</div>
</div>

<div class="api-node" markdown>

### `whenActive` { #md_whenactive }

<div class="api-node-source" markdown>
Defined in `PChainStakeMirror` ([Docs](./PChainStakeMirror.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStakeMirror.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
modifier whenActive()
```

This method can only be called when the [`PChainStakeMirror`](./PChainStakeMirror.md) is [`active`](#va_active).

</div>
</div>

</div>

<div class="api-node-type" markdown>

## Structures

<div class="api-node" markdown>

### `PChainStakingData` { #st_pchainstakingdata }

<div class="api-node-source" markdown>
Defined in `PChainStakeMirror` ([Docs](./PChainStakeMirror.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStakeMirror.sol)).
</div>

<div class="api-node-internal" markdown>

</div>
```solidity
struct PChainStakingData {
  address owner;
  bytes20 nodeId;
  uint64 weightGwei;
}
```

</div>

<div class="api-node" markdown>

### `TimelockedCall` { #st_timelockedcall }

<div class="api-node-source" markdown>
Defined in `GovernedBase` ([Docs](./GovernedBase.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/governance/implementation/GovernedBase.sol)).
</div>

<div class="api-node-internal" markdown>

</div>
```solidity
struct TimelockedCall {
  uint256 allowedAfterTimestamp;
  bytes encodedCall;
}
```

</div>

</div>

<div class="api-node-type" markdown>

## Variables

<div class="api-node" markdown>

### `active` { #va_active }

<div class="api-node-source" markdown>
Defined in `PChainStakeMirror` ([Docs](./PChainStakeMirror.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStakeMirror.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
    bool active
```

Indicates if stakes can be mirrored.

</div>
</div>

<div class="api-node" markdown>

### `addressBinder` { #va_addressbinder }

<div class="api-node-source" markdown>
Defined in `PChainStakeMirror` ([Docs](./PChainStakeMirror.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStakeMirror.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
    contract IAddressBinder addressBinder
```

The contract used for converting P-chain address to C-chain address - both derived from the same public key.

</div>
</div>

<div class="api-node" markdown>

### `cleanerContract` { #va_cleanercontract }

<div class="api-node-source" markdown>
Defined in `CheckPointable` ([Docs](./CheckPointable.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/token/implementation/CheckPointable.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
    address cleanerContract
```

Address of the contract that is allowed to call methods for history cleaning.

</div>
</div>

<div class="api-node" markdown>

### `cleanupBlockNumberManager` { #va_cleanupblocknumbermanager }

<div class="api-node-source" markdown>
Defined in `PChainStakeMirror` ([Docs](./PChainStakeMirror.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStakeMirror.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
    address cleanupBlockNumberManager
```

The contract that is allowed to set [`cleanupBlockNumber`](#fn_cleanupblocknumber_deea13e7).
Usually this will be an instance of [`CleanupBlockNumberManager`](./CleanupBlockNumberManager.md).

</div>
</div>

<div class="api-node" markdown>

### `endTimeToTransactionHashList` { #va_endtimetotransactionhashlist }

<div class="api-node-source" markdown>
Defined in `PChainStakeMirror` ([Docs](./PChainStakeMirror.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStakeMirror.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
    mapping(uint256 => bytes32[]) endTimeToTransactionHashList
```

Mapping from stake end time to the list of tx hashes - `keccak256(abi.encode(txId, inputAddress))`

</div>
</div>

<div class="api-node" markdown>

### `flareDaemon` { #va_flaredaemon }

<div class="api-node-source" markdown>
Defined in `GovernedAndFlareDaemonized` ([Docs](./GovernedAndFlareDaemonized.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/utils/implementation/GovernedAndFlareDaemonized.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
    contract FlareDaemon flareDaemon
```

The [`FlareDaemon`](./FlareDaemon.md) contract, set at construction time.

</div>
</div>

<div class="api-node" markdown>

### `governanceSettings` { #va_governancesettings }

<div class="api-node-source" markdown>
Defined in `GovernedBase` ([Docs](./GovernedBase.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/governance/implementation/GovernedBase.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
    contract IGovernanceSettings governanceSettings
```

Governance Settings.

</div>
</div>

<div class="api-node" markdown>

### `governanceVotePower` { #va_governancevotepower }

<div class="api-node-source" markdown>
Defined in `PChainStakeMirror` ([Docs](./PChainStakeMirror.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStakeMirror.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
    contract IIGovernanceVotePower governanceVotePower
```

The contract to use for [`governance`](#fn_governance_5aa6e675) vote power and delegation.
Here only to properly update [`governance`](#fn_governance_5aa6e675) VP at stake start/end,
all actual operations go directly to [`governance`](#fn_governance_5aa6e675) VP contract.

</div>
</div>

<div class="api-node" markdown>

### `maxUpdatesPerBlock` { #va_maxupdatesperblock }

<div class="api-node-source" markdown>
Defined in `PChainStakeMirror` ([Docs](./PChainStakeMirror.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStakeMirror.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
    uint256 maxUpdatesPerBlock
```

Max number of stake ends that Flare daemon updates per block.

</div>
</div>

<div class="api-node" markdown>

### `nextTimestampToTrigger` { #va_nexttimestamptotrigger }

<div class="api-node-source" markdown>
Defined in `PChainStakeMirror` ([Docs](./PChainStakeMirror.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStakeMirror.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
    uint256 nextTimestampToTrigger
```

Indicates timestamp of stake ends that Flare daemon will trigger next.

</div>
</div>

<div class="api-node" markdown>

### `productionMode` { #va_productionmode }

<div class="api-node-source" markdown>
Defined in `GovernedBase` ([Docs](./GovernedBase.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/governance/implementation/GovernedBase.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
    bool productionMode
```

When true, [`governance`](#fn_governance_5aa6e675) is enabled and cannot be disabled. See [`switchToProductionMode`](#fn_switchtoproductionmode_f5a98383).

</div>
</div>

<div class="api-node" markdown>

### `timelockedCalls` { #va_timelockedcalls }

<div class="api-node-source" markdown>
Defined in `GovernedBase` ([Docs](./GovernedBase.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/governance/implementation/GovernedBase.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
    mapping(bytes4 => struct GovernedBase.TimelockedCall) timelockedCalls
```

List of pending timelocked [`governance`](#fn_governance_5aa6e675) calls.

</div>
</div>

<div class="api-node" markdown>

### `transactionHashToPChainStakingData` { #va_transactionhashtopchainstakingdata }

<div class="api-node-source" markdown>
Defined in `PChainStakeMirror` ([Docs](./PChainStakeMirror.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStakeMirror.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
    mapping(bytes32 => struct PChainStakeMirror.PChainStakingData) transactionHashToPChainStakingData
```

Return staking data for given tx hash - `keccak256(abi.encode(txId, inputAddress))`

</div>
</div>

<div class="api-node" markdown>

### `verifier` { #va_verifier }

<div class="api-node-source" markdown>
Defined in `PChainStakeMirror` ([Docs](./PChainStakeMirror.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/staking/implementation/PChainStakeMirror.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
    contract IIPChainStakeMirrorVerifier verifier
```

The contract used for P-chain stake verifications.

</div>
</div>

</div>

