---
title: IStateConnector
search:
  boost: 0.5
---

<!-- This is an autogenerated file. Do not edit! -->

# `IStateConnector` { #ct_istateconnector }

<div class="api-node-source" markdown>
[Source](https://github.com/flare-foundation/songbird-state-connector-protocol/tree/main/contracts/interface/external/IStateConnector.sol)
</div>

<div class="api-node-internal" markdown>

Interface for interacting with the [State Connector](https://docs.flare.network/tech/state-connector/).

The interface enables requests to be made to the State Connector and related data, such as round IDs and Merkle roots, to be managed.

</div>

<div class="api-node-type" markdown>

## Events

<div class="api-node" markdown>

### `AttestationRequest` { #ev_attestationrequest }

<div class="api-node-source" markdown>
Defined in `IStateConnector` ([Docs](./IStateConnector.md), [Source](https://github.com/flare-foundation/songbird-state-connector-protocol/tree/main/contracts/interface/external/IStateConnector.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
event AttestationRequest(
    address sender,
    uint256 timestamp,
    bytes data
)
```

Triggered after an attestation request is made. This event is used by attestation providers to start processing the requests.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `sender` | `address` | The address that initiated the attestation request. |
| `timestamp` | `uint256` | The UNIX epoch time in seconds when the request was made. |
| `data` | `bytes` | The hash of the data being attested to, including a message integrity code to ensure proper validation. |

</div>
</div>

<div class="api-node" markdown>

### `RoundFinalised` { #ev_roundfinalised }

<div class="api-node-source" markdown>
Defined in `IStateConnector` ([Docs](./IStateConnector.md), [Source](https://github.com/flare-foundation/songbird-state-connector-protocol/tree/main/contracts/interface/external/IStateConnector.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
event RoundFinalised(
    uint256 roundId,
    bytes32 merkleRoot
)
```

Triggered after a round of attestations is completed and the data for that round is validated and finalized.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `roundId` | `uint256` | The ID of the round that is finalized. |
| `merkleRoot` | `bytes32` | The corresponding Merkle root for the finalized round. |

</div>
</div>

</div>

<div class="api-node-type" markdown>

## Functions

<div class="api-node" markdown>

### `BUFFER_TIMESTAMP_OFFSET` { #fn_buffer_timestamp_offset_4b8a125f }

<div class="api-node-source" markdown>
Defined in `IStateConnector` ([Docs](./IStateConnector.md), [Source](https://github.com/flare-foundation/songbird-state-connector-protocol/tree/main/contracts/interface/external/IStateConnector.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function BUFFER_TIMESTAMP_OFFSET(
) external view returns (
    uint256);
```

Retrieves the timestamp of round number 0, which serves as an offset to calculate the timestamps
of all subsequent attestation rounds. For more details, see [`BUFFER_WINDOW`](#fn_buffer_window_f5f59a4a).

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | The timestamp offset in seconds since the UNIX epoch. |
</div>
</div>

<div class="api-node" markdown>

### `BUFFER_WINDOW` { #fn_buffer_window_f5f59a4a }

<div class="api-node-source" markdown>
Defined in `IStateConnector` ([Docs](./IStateConnector.md), [Source](https://github.com/flare-foundation/songbird-state-connector-protocol/tree/main/contracts/interface/external/IStateConnector.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function BUFFER_WINDOW(
) external view returns (
    uint256);
```

Retrieves the duration of attestation rounds, which is used to calculate the round ID from a given timestamp.
The calculation formula is: roundId = (timestamp - [`BUFFER_TIMESTAMP_OFFSET`](#fn_buffer_timestamp_offset_4b8a125f)) / [`BUFFER_WINDOW`](#fn_buffer_window_f5f59a4a).

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | The duration in seconds of an attestation round. |
</div>
</div>

<div class="api-node" markdown>

### `lastFinalizedRoundId` { #fn_lastfinalizedroundid_dd862157 }

<div class="api-node-source" markdown>
Defined in `IStateConnector` ([Docs](./IStateConnector.md), [Source](https://github.com/flare-foundation/songbird-state-connector-protocol/tree/main/contracts/interface/external/IStateConnector.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function lastFinalizedRoundId(
) external view returns (
    uint256 _roundId);
```

Retrieves the ID of the most recently finalized round, which corresponds to the last round ID
that has a stored Merkle root available.

| Returns | Type | Description |
| ------- | ---- | ----------- |
| `_roundId` | `uint256` | The ID of the last finalized round. |
</div>
</div>

<div class="api-node" markdown>

### `requestAttestations` { #fn_requestattestations_f64b6fda }

<div class="api-node-source" markdown>
Defined in `IStateConnector` ([Docs](./IStateConnector.md), [Source](https://github.com/flare-foundation/songbird-state-connector-protocol/tree/main/contracts/interface/external/IStateConnector.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function requestAttestations(
    bytes _data
) external;
```

Requests an attestation and emits the [`AttestationRequest`](#ev_attestationrequest) event.
To learn about the format of this data, see [Attestation types](https://gitlab.com/flarenetwork/state-connector-protocol/-/blob/main/specs/attestations/attestation-type-definition.md).

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_data` | `bytes` | The data being submitted for attestation. |

</div>
</div>

</div>

