---
title: IIFtso
search:
  boost: 0.5
---

<!-- This is an autogenerated file. Do not edit! -->

# `IIFtso` { #ct_iiftso }

<div class="api-node-source" markdown>
[Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/ftso/interface/IIFtso.sol) | Inherits from [IFtso](./IFtso.md), [IFtsoGenesis](./IFtsoGenesis.md)
</div>

<div class="api-node-internal" markdown>

Internal interface for each of the FTSO contracts that handles an asset.
Read the [FTSO documentation page](https://docs.flare.network/tech/ftso/)
for general information about the FTSO system.

</div>

<div class="api-node-type" markdown>

## Functions

<div class="api-node" markdown>

### `activateFtso` { #fn_activateftso_2f0a6f3c }

<div class="api-node-source" markdown>
Defined in `IIFtso` ([Docs](./IIFtso.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/ftso/interface/IIFtso.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function activateFtso(
    uint256 _firstEpochStartTs,
    uint256 _submitPeriodSeconds,
    uint256 _revealPeriodSeconds
) external;
```

Initializes FTSO immutable settings and activates the contract.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_firstEpochStartTs` | `uint256` | Timestamp of the first epoch in seconds from UNIX epoch. |
| `_submitPeriodSeconds` | `uint256` | Duration of epoch submission window in seconds. |
| `_revealPeriodSeconds` | `uint256` | Duration of epoch reveal window in seconds. |

</div>
</div>

<div class="api-node" markdown>

### `active` { #fn_active_02fb0c5e }

<div class="api-node-source" markdown>
Defined in `IFtso` ([Docs](./IFtso.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/userInterfaces/IFtso.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function active(
) external view returns (
    bool);
```

Returns whether FTSO is [`active`](#fn_active_02fb0c5e) or not.

</div>
</div>

<div class="api-node" markdown>

### `configureEpochs` { #fn_configureepochs_5a3c9d8e }

<div class="api-node-source" markdown>
Defined in `IIFtso` ([Docs](./IIFtso.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/ftso/interface/IIFtso.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function configureEpochs(
    uint256 _maxVotePowerNatThresholdFraction,
    uint256 _maxVotePowerAssetThresholdFraction,
    uint256 _lowAssetUSDThreshold,
    uint256 _highAssetUSDThreshold,
    uint256 _highAssetTurnoutThresholdBIPS,
    uint256 _lowNatTurnoutThresholdBIPS,
    uint256 _elasticBandRewardBIPS,
    uint256 _elasticBandWidthPPM,
    address[] _trustedAddresses
) external;
```

Sets configurable settings related to epochs.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_maxVotePowerNatThresholdFraction` | `uint256` | High threshold for native token vote power per voter. |
| `_maxVotePowerAssetThresholdFraction` | `uint256` | High threshold for asset vote power per voter. |
| `_lowAssetUSDThreshold` | `uint256` | Threshold for low asset vote power (in scaled USD). |
| `_highAssetUSDThreshold` | `uint256` | Threshold for high asset vote power (in scaled USD). |
| `_highAssetTurnoutThresholdBIPS` | `uint256` | Threshold for high asset turnout (in BIPS). |
| `_lowNatTurnoutThresholdBIPS` | `uint256` | Threshold for low nat turnout (in BIPS). |
| `_elasticBandRewardBIPS` | `uint256` | Percentage of the rewards (in BIPS) that go to the [secondary reward band](https://docs.flare.network/tech/ftso/#rewards). The rest go to the primary reward band. |
| `_elasticBandWidthPPM` | `uint256` | Width of the secondary reward band, in parts-per-milion of the median. |
| `_trustedAddresses` | `address[]` | Trusted voters that will be used if low voter turnout is detected. |

</div>
</div>

<div class="api-node" markdown>

### `deactivateFtso` { #fn_deactivateftso_555989da }

<div class="api-node-source" markdown>
Defined in `IIFtso` ([Docs](./IIFtso.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/ftso/interface/IIFtso.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function deactivateFtso(
) external;
```

Deactivates the contract.

</div>
</div>

<div class="api-node" markdown>

### `epochsConfiguration` { #fn_epochsconfiguration_e3749e0c }

<div class="api-node-source" markdown>
Defined in `IIFtso` ([Docs](./IIFtso.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/ftso/interface/IIFtso.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function epochsConfiguration(
) external view returns (
    uint256 _maxVotePowerNatThresholdFraction,
    uint256 _maxVotePowerAssetThresholdFraction,
    uint256 _lowAssetUSDThreshold,
    uint256 _highAssetUSDThreshold,
    uint256 _highAssetTurnoutThresholdBIPS,
    uint256 _lowNatTurnoutThresholdBIPS,
    uint256 _elasticBandRewardBIPS,
    uint256 _elasticBandWidthPPM,
    address[] _trustedAddresses);
```

Returns current configuration of epoch state.

| Returns | Type | Description |
| ------- | ---- | ----------- |
| `_maxVotePowerNatThresholdFraction` | `uint256` | High threshold for native token vote power per voter. |
| `_maxVotePowerAssetThresholdFraction` | `uint256` | High threshold for asset vote power per voter. |
| `_lowAssetUSDThreshold` | `uint256` | Threshold for low asset vote power (in scaled USD). |
| `_highAssetUSDThreshold` | `uint256` | Threshold for high asset vote power (in scaled USD). |
| `_highAssetTurnoutThresholdBIPS` | `uint256` | Threshold for high asset turnout (in BIPS). |
| `_lowNatTurnoutThresholdBIPS` | `uint256` | Threshold for low nat turnout (in BIPS). |
| `_elasticBandRewardBIPS` | `uint256` | Percentage of the rewards (in BIPS) that go to the [secondary reward band](https://docs.flare.network/tech/ftso/#rewards). The rest go to the primary reward band. |
| `_elasticBandWidthPPM` | `uint256` | Width of the secondary reward band, in parts-per-milion of the median. |
| `_trustedAddresses` | `address[]` | Trusted voters that will be used if low voter turnout is detected. |
</div>
</div>

<div class="api-node" markdown>

### `fallbackFinalizePriceEpoch` { #fn_fallbackfinalizepriceepoch_4afd5102 }

<div class="api-node-source" markdown>
Defined in `IIFtso` ([Docs](./IIFtso.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/ftso/interface/IIFtso.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function fallbackFinalizePriceEpoch(
    uint256 _epochId
) external;
```

Forces finalization of a price epoch, calculating the median price from trusted addresses only.

Used as a fallback method, for example, due to an unexpected error during normal epoch finalization or
because the [`ftsoManager`](#fn_ftsomanager_11a7aaaa) enabled the fallback mode.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_epochId` | `uint256` | ID of the epoch to finalize. |

</div>
</div>

<div class="api-node" markdown>

### `finalizePriceEpoch` { #fn_finalizepriceepoch_40462a2d }

<div class="api-node-source" markdown>
Defined in `IIFtso` ([Docs](./IIFtso.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/ftso/interface/IIFtso.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function finalizePriceEpoch(
    uint256 _epochId,
    bool _returnRewardData
) external returns (
    address[] _eligibleAddresses,
    uint256[] _natWeights,
    uint256 _totalNatWeight);
```

Computes epoch price based on gathered votes.

* If the price reveal window for the epoch has ended, finalize the epoch.
* Iterate list of price submissions.
* Find weighted median.
* Find adjacent 50% of price submissions.
* Allocate rewards for price submissions.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_epochId` | `uint256` | ID of the epoch to finalize. |
| `_returnRewardData` | `bool` | Parameter that determines if the reward data is returned. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| `_eligibleAddresses` | `address[]` | List of addresses eligible for reward. |
| `_natWeights` | `uint256[]` | List of native token weights corresponding to the eligible addresses. |
| `_totalNatWeight` | `uint256` | Sum of weights in `_natWeights`. |
</div>
</div>

<div class="api-node" markdown>

### `forceFinalizePriceEpoch` { #fn_forcefinalizepriceepoch_974d7a6b }

<div class="api-node-source" markdown>
Defined in `IIFtso` ([Docs](./IIFtso.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/ftso/interface/IIFtso.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function forceFinalizePriceEpoch(
    uint256 _epochId
) external;
```

Forces finalization of a price epoch by copying the price from the previous epoch.

Used as a fallback method if [`fallbackFinalizePriceEpoch`](#fn_fallbackfinalizepriceepoch_4afd5102) fails due to an exception.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_epochId` | `uint256` | ID of the epoch to finalize. |

</div>
</div>

<div class="api-node" markdown>

### `ftsoManager` { #fn_ftsomanager_11a7aaaa }

<div class="api-node-source" markdown>
Defined in `IIFtso` ([Docs](./IIFtso.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/ftso/interface/IIFtso.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function ftsoManager(
) external view returns (
    address);
```

Returns the FTSO manager's address.

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `address` | Address of the FTSO manager contract. |
</div>
</div>

<div class="api-node" markdown>

### `getAsset` { #fn_getasset_5c222bad }

<div class="api-node-source" markdown>
Defined in `IIFtso` ([Docs](./IIFtso.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/ftso/interface/IIFtso.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getAsset(
) external view returns (
    contract IIVPToken);
```

Returns the FTSO asset.

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `contract IIVPToken` | Address of the [`IIVPToken`](./IIVPToken.md) tracked by this FTSO. `null` in case of multi-asset FTSO. |
</div>
</div>

<div class="api-node" markdown>

### `getAssetFtsos` { #fn_getassetftsos_18931c35 }

<div class="api-node-source" markdown>
Defined in `IIFtso` ([Docs](./IIFtso.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/ftso/interface/IIFtso.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getAssetFtsos(
) external view returns (
    contract IIFtso[]);
```

Returns the asset FTSOs.

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `contract IIFtso[]` | Array of [`IIFtso`](./IIFtso.md) contract addresses. `null` in case of single-asset FTSO. |
</div>
</div>

<div class="api-node" markdown>

### `getCurrentEpochId` { #fn_getcurrentepochid_a29a839f }

<div class="api-node-source" markdown>
Defined in `IFtso` ([Docs](./IFtso.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/userInterfaces/IFtso.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getCurrentEpochId(
) external view returns (
    uint256);
```

Returns the current epoch ID.

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | Currently running epoch ID. IDs are consecutive numbers starting from zero. |
</div>
</div>

<div class="api-node" markdown>

### `getCurrentPrice` { #fn_getcurrentprice_eb91d37e }

<div class="api-node-source" markdown>
Defined in `IFtso` ([Docs](./IFtso.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/userInterfaces/IFtso.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getCurrentPrice(
) external view returns (
    uint256 _price,
    uint256 _timestamp);
```

Returns the current asset price.

| Returns | Type | Description |
| ------- | ---- | ----------- |
| `_price` | `uint256` | Price in USD multiplied by 10^`ASSET_PRICE_USD_DECIMALS`. |
| `_timestamp` | `uint256` | Time when price was updated for the last time, in seconds from UNIX epoch. |
</div>
</div>

<div class="api-node" markdown>

### `getCurrentPriceDetails` { #fn_getcurrentpricedetails_040d73b8 }

<div class="api-node-source" markdown>
Defined in `IFtso` ([Docs](./IFtso.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/userInterfaces/IFtso.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getCurrentPriceDetails(
) external view returns (
    uint256 _price,
    uint256 _priceTimestamp,
    enum IFtso.PriceFinalizationType _priceFinalizationType,
    uint256 _lastPriceEpochFinalizationTimestamp,
    enum IFtso.PriceFinalizationType _lastPriceEpochFinalizationType);
```

Returns asset's current price details.
All timestamps are in seconds from UNIX epoch.

| Returns | Type | Description |
| ------- | ---- | ----------- |
| `_price` | `uint256` | Price in USD multiplied by 10^`ASSET_PRICE_USD_DECIMALS`. |
| `_priceTimestamp` | `uint256` | Time when price was updated for the last time. |
| `_priceFinalizationType` | `enum IFtso.PriceFinalizationType` | Finalization type when price was updated for the last time. |
| `_lastPriceEpochFinalizationTimestamp` | `uint256` | Time when last price epoch was finalized. |
| `_lastPriceEpochFinalizationType` | `enum IFtso.PriceFinalizationType` | Finalization type of last finalized price epoch. |
</div>
</div>

<div class="api-node" markdown>

### `getCurrentPriceFromTrustedProviders` { #fn_getcurrentpricefromtrustedproviders_af52df08 }

<div class="api-node-source" markdown>
Defined in `IFtso` ([Docs](./IFtso.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/userInterfaces/IFtso.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getCurrentPriceFromTrustedProviders(
) external view returns (
    uint256 _price,
    uint256 _timestamp);
```

Returns current asset price calculated only using input from trusted providers.

| Returns | Type | Description |
| ------- | ---- | ----------- |
| `_price` | `uint256` | Price in USD multiplied by 10^`ASSET_PRICE_USD_DECIMALS`. |
| `_timestamp` | `uint256` | Time when price was updated for the last time, in seconds from UNIX epoch. |
</div>
</div>

<div class="api-node" markdown>

### `getCurrentPriceWithDecimals` { #fn_getcurrentpricewithdecimals_65f5cd86 }

<div class="api-node-source" markdown>
Defined in `IFtso` ([Docs](./IFtso.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/userInterfaces/IFtso.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getCurrentPriceWithDecimals(
) external view returns (
    uint256 _price,
    uint256 _timestamp,
    uint256 _assetPriceUsdDecimals);
```

Returns current asset price and number of decimals.

| Returns | Type | Description |
| ------- | ---- | ----------- |
| `_price` | `uint256` | Price in USD multiplied by 10^`_assetPriceUsdDecimals`. |
| `_timestamp` | `uint256` | Time when price was updated for the last time, in seconds from UNIX epoch. |
| `_assetPriceUsdDecimals` | `uint256` | Number of decimals used to return the USD price. |
</div>
</div>

<div class="api-node" markdown>

### `getCurrentPriceWithDecimalsFromTrustedProviders` { #fn_getcurrentpricewithdecimalsfromtrustedproviders_3cacb3ae }

<div class="api-node-source" markdown>
Defined in `IFtso` ([Docs](./IFtso.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/userInterfaces/IFtso.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getCurrentPriceWithDecimalsFromTrustedProviders(
) external view returns (
    uint256 _price,
    uint256 _timestamp,
    uint256 _assetPriceUsdDecimals);
```

Returns current asset price calculated only using input from trusted providers and number of decimals.

| Returns | Type | Description |
| ------- | ---- | ----------- |
| `_price` | `uint256` | Price in USD multiplied by 10^`ASSET_PRICE_USD_DECIMALS`. |
| `_timestamp` | `uint256` | Time when price was updated for the last time, in seconds from UNIX epoch. |
| `_assetPriceUsdDecimals` | `uint256` | Number of decimals used to return the USD price. |
</div>
</div>

<div class="api-node" markdown>

### `getCurrentRandom` { #fn_getcurrentrandom_d89601fd }

<div class="api-node-source" markdown>
Defined in `IFtso` ([Docs](./IFtso.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/userInterfaces/IFtso.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getCurrentRandom(
) external view returns (
    uint256);
```

Returns the random number for the previous price epoch, obtained from the random numbers
provided by all data providers along with their data submissions.

</div>
</div>

<div class="api-node" markdown>

### `getEpochId` { #fn_getepochid_5303548b }

<div class="api-node-source" markdown>
Defined in `IFtso` ([Docs](./IFtso.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/userInterfaces/IFtso.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getEpochId(
    uint256 _timestamp
) external view returns (
    uint256);
```

Returns the ID of the epoch that was opened for price submission at the specified timestamp.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_timestamp` | `uint256` | Queried timestamp in seconds from UNIX epoch. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | Epoch ID corresponding to that timestamp. IDs are consecutive numbers starting from zero. |
</div>
</div>

<div class="api-node" markdown>

### `getEpochPrice` { #fn_getepochprice_7d1d6f12 }

<div class="api-node-source" markdown>
Defined in `IFtso` ([Docs](./IFtso.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/userInterfaces/IFtso.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getEpochPrice(
    uint256 _epochId
) external view returns (
    uint256);
```

Returns agreed asset price in the specified epoch.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_epochId` | `uint256` | ID of the epoch. Only the last 200 epochs can be queried. Out-of-bounds queries revert. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | Price in USD multiplied by 10^`ASSET_PRICE_USD_DECIMALS`. |
</div>
</div>

<div class="api-node" markdown>

### `getEpochPriceForVoter` { #fn_getepochpriceforvoter_c5d8b9e7 }

<div class="api-node-source" markdown>
Defined in `IFtso` ([Docs](./IFtso.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/userInterfaces/IFtso.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getEpochPriceForVoter(
    uint256 _epochId,
    address _voter
) external view returns (
    uint256);
```

Returns asset price submitted by a voter in the specified epoch.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_epochId` | `uint256` | ID of the epoch being queried. Only the last 200 epochs can be queried. Out-of-bounds queries revert. |
| `_voter` | `address` | Address of the voter being queried. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | Price in USD multiplied by 10^`ASSET_PRICE_USD_DECIMALS`. |
</div>
</div>

<div class="api-node" markdown>

### `getPriceEpochConfiguration` { #fn_getpriceepochconfiguration_144e1591 }

<div class="api-node-source" markdown>
Defined in `IFtso` ([Docs](./IFtso.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/userInterfaces/IFtso.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getPriceEpochConfiguration(
) external view returns (
    uint256 _firstEpochStartTs,
    uint256 _submitPeriodSeconds,
    uint256 _revealPeriodSeconds);
```

Returns current epoch's configuration.

| Returns | Type | Description |
| ------- | ---- | ----------- |
| `_firstEpochStartTs` | `uint256` | First epoch start timestamp in seconds from UNIX epoch. |
| `_submitPeriodSeconds` | `uint256` | Submit period in seconds. |
| `_revealPeriodSeconds` | `uint256` | Reveal period in seconds. |
</div>
</div>

<div class="api-node" markdown>

### `getPriceEpochData` { #fn_getpriceepochdata_e3b3a3b3 }

<div class="api-node-source" markdown>
Defined in `IFtso` ([Docs](./IFtso.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/userInterfaces/IFtso.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getPriceEpochData(
) external view returns (
    uint256 _epochId,
    uint256 _epochSubmitEndTime,
    uint256 _epochRevealEndTime,
    uint256 _votePowerBlock,
    bool _fallbackMode);
```

Returns current epoch data.
Intervals are open on the right: End times are not included.

| Returns | Type | Description |
| ------- | ---- | ----------- |
| `_epochId` | `uint256` | Current epoch ID. |
| `_epochSubmitEndTime` | `uint256` | End time of the price submission window in seconds from UNIX epoch. |
| `_epochRevealEndTime` | `uint256` | End time of the price reveal window in seconds from UNIX epoch. |
| `_votePowerBlock` | `uint256` | Vote power block for the current epoch. |
| `_fallbackMode` | `bool` | Whether the current epoch is in fallback mode. Only votes from trusted addresses are used in this mode. |
</div>
</div>

<div class="api-node" markdown>

### `getRandom` { #fn_getrandom_cd4b6914 }

<div class="api-node-source" markdown>
Defined in `IFtso` ([Docs](./IFtso.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/userInterfaces/IFtso.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getRandom(
    uint256 _epochId
) external view returns (
    uint256);
```

Returns the random number used in a specific past epoch, obtained from the random numbers
provided by all data providers along with their data submissions.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_epochId` | `uint256` | ID of the queried epoch. Current epoch cannot be queried, and the previous epoch is constantly updated as data providers reveal their prices and random numbers. Only the last 50 epochs can be queried and there is no bounds checking for this parameter. Out-of-bounds queries return undefined values. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | The random number used in that epoch. |
</div>
</div>

<div class="api-node" markdown>

### `getVoteWeightingParameters` { #fn_getvoteweightingparameters_8357d08c }

<div class="api-node-source" markdown>
Defined in `IIFtso` ([Docs](./IIFtso.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/ftso/interface/IIFtso.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getVoteWeightingParameters(
) external view returns (
    contract IIVPToken[] _assets,
    uint256[] _assetMultipliers,
    uint256 _totalVotePowerNat,
    uint256 _totalVotePowerAsset,
    uint256 _assetWeightRatio,
    uint256 _votePowerBlock);
```

Returns parameters necessary for replicating vote weighting (used in [`VoterWhitelister`](./VoterWhitelister.md)).

| Returns | Type | Description |
| ------- | ---- | ----------- |
| `_assets` | `contract IIVPToken[]` | The list of assets that are accounted in vote. |
| `_assetMultipliers` | `uint256[]` | Weight multiplier of each asset in (multiasset) FTSO. |
| `_totalVotePowerNat` | `uint256` | Total native token vote power at block. |
| `_totalVotePowerAsset` | `uint256` | Total combined asset vote power at block. |
| `_assetWeightRatio` | `uint256` | Ratio of combined asset vote power vs. native token vp (in BIPS). |
| `_votePowerBlock` | `uint256` | Vote power block for the epoch. |
</div>
</div>

<div class="api-node" markdown>

### `initializeCurrentEpochStateForReveal` { #fn_initializecurrentepochstateforreveal_f670ebe3 }

<div class="api-node-source" markdown>
Defined in `IIFtso` ([Docs](./IIFtso.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/ftso/interface/IIFtso.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function initializeCurrentEpochStateForReveal(
    uint256 _circulatingSupplyNat,
    bool _fallbackMode
) external;
```

Initializes current epoch instance for reveal.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_circulatingSupplyNat` | `uint256` | Epoch native token circulating supply. |
| `_fallbackMode` | `bool` | Whether the current epoch is in fallback mode. |

</div>
</div>

<div class="api-node" markdown>

### `revealPriceSubmitter` { #fn_revealpricesubmitter_c1f6c36e }

<div class="api-node-source" markdown>
Defined in `IFtsoGenesis` ([Docs](./IFtsoGenesis.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/genesis/interface/IFtsoGenesis.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function revealPriceSubmitter(
    address _voter,
    uint256 _epochId,
    uint256 _price,
    uint256 _voterWNatVP
) external;
```

Reveals the price submitted by a voter on a specific epoch.
The hash of _price and _random must be equal to the submitted hash

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_voter` | `address` | Voter address. |
| `_epochId` | `uint256` | ID of the epoch in which the price hash was submitted. |
| `_price` | `uint256` | Submitted price. |
| `_voterWNatVP` | `uint256` | Voter's vote power in [`WNat`](./WNat.md) units. |

</div>
</div>

<div class="api-node" markdown>

### `setAsset` { #fn_setasset_d0d552dd }

<div class="api-node-source" markdown>
Defined in `IIFtso` ([Docs](./IIFtso.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/ftso/interface/IIFtso.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function setAsset(
    contract IIVPToken _asset
) external;
```

Sets asset for FTSO to operate as single-asset oracle.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_asset` | `contract IIVPToken` | Address of the [`IIVPToken`](./IIVPToken.md) contract that will be the asset tracked by this FTSO. |

</div>
</div>

<div class="api-node" markdown>

### `setAssetFtsos` { #fn_setassetftsos_131fdee2 }

<div class="api-node-source" markdown>
Defined in `IIFtso` ([Docs](./IIFtso.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/ftso/interface/IIFtso.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function setAssetFtsos(
    contract IIFtso[] _assetFtsos
) external;
```

Sets an array of FTSOs for FTSO to operate as multi-asset oracle.
FTSOs implicitly determine the FTSO assets.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_assetFtsos` | `contract IIFtso[]` | Array of FTSOs. |

</div>
</div>

<div class="api-node" markdown>

### `setVotePowerBlock` { #fn_setvotepowerblock_e536f396 }

<div class="api-node-source" markdown>
Defined in `IIFtso` ([Docs](./IIFtso.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/ftso/interface/IIFtso.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function setVotePowerBlock(
    uint256 _blockNumber
) external;
```

Sets the current vote power block.
Current vote power block will update per reward epoch.
The FTSO doesn't have notion of reward epochs.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_blockNumber` | `uint256` | Vote power block. |

</div>
</div>

<div class="api-node" markdown>

### `symbol` { #fn_symbol_95d89b41 }

<div class="api-node-source" markdown>
Defined in `IFtso` ([Docs](./IFtso.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/userInterfaces/IFtso.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function symbol(
) external view returns (
    string);
```

Returns the FTSO [`symbol`](#fn_symbol_95d89b41).

</div>
</div>

<div class="api-node" markdown>

### `updateInitialPrice` { #fn_updateinitialprice_306ba253 }

<div class="api-node-source" markdown>
Defined in `IIFtso` ([Docs](./IIFtso.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/ftso/interface/IIFtso.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function updateInitialPrice(
    uint256 _initialPriceUSD,
    uint256 _initialPriceTimestamp
) external;
```

Updates initial asset price when the contract is not [`active`](#fn_active_02fb0c5e) yet.

</div>
</div>

<div class="api-node" markdown>

### `wNat` { #fn_wnat_9edbf007 }

<div class="api-node-source" markdown>
Defined in `IIFtso` ([Docs](./IIFtso.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/ftso/interface/IIFtso.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function wNat(
) external view returns (
    contract IIVPToken);
```

Address of the [`WNat`](./WNat.md) contract.

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `contract IIVPToken` | Address of the [`WNat`](./WNat.md) contract. |
</div>
</div>

<div class="api-node" markdown>

### `wNatVotePowerCached` { #fn_wnatvotepowercached_f72cab28 }

<div class="api-node-source" markdown>
Defined in `IFtsoGenesis` ([Docs](./IFtsoGenesis.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/genesis/interface/IFtsoGenesis.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function wNatVotePowerCached(
    address _voter,
    uint256 _epochId
) external returns (
    uint256);
```

Get and cache the vote power of a voter on a specific epoch, in [`WNat`](./WNat.md) units.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_voter` | `address` | Voter address. |
| `_epochId` | `uint256` | ID of the epoch in which the price hash was submitted. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | Voter's vote power in [`WNat`](./WNat.md) units. |
</div>
</div>

</div>

